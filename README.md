# Robotic Arm Grasping Simulation

This project implements a simulation of a robotic arm grasping a small soft object with a non-smooth surface. The solution includes both basic grasping functionality and sensor-based object detection.

## Project Structure

robotic-arm-simulation/
├── main.py        # Main simulation code
├── videos/        # Generated demonstration videos
├── console log.txt # Console log of a simulation run
└── README.md      # This file

## Prerequisites

* Python 3.8 or higher
* PyBullet
* NumPy
* OpenCV

## Installation

1.  Clone the repository (if applicable):

    ```bash
    git clone <repository_url>
    cd robotic-arm-simulation
    ```

2.  Install the required dependencies:

    ```bash
    pip install pybullet numpy opencv-python
    ```

3.  Ensure all required asset files (URDFs) are accessible by PyBullet. The code uses the data provided by the `pybullet_data` package, so ensure it is correctly installed.

## Usage

Run the simulation with:

```bash
python main.py
```
By default, the simulation attempts to run in GUI mode first. If GUI mode fails (due to environment limitations), it falls back to DIRECT (headless) mode. The simulation performs the following steps:

Initializes the PyBullet physics environment.
Loads the plane, table, and KUKA robotic arm.
Loads the gripper fingers and sets up constraints.
Loads the soft object (sphere or cube).
If sensor-based detection is enabled, it detects the object's position.
Moves the robotic arm to a home position.
Moves the arm to a position above the object.
Moves the arm to a grasping position.
"Closes" the gripper (functionality modified due to URDF limitations).
Lifts the object.
Moves the object to a new location.
Places the object.
"Opens" the gripper (functionality modified due to URDF limitations).
Moves back to the home position.
Records a video of the simulation.
Key Features
Robotic Arm Control: Simulates the movement and grasping actions of a KUKA robotic arm.
Soft Object Grasping: Attempts to grasp a soft object (sphere or cube). The gripper functionality has been modified due to URDF issues.
Sensor-Based Object Detection: Includes an optional sensor-based object detection mechanism (RGB-D camera simulation).
Video Recording: Records a video of the simulation, even in headless mode.
Headless Mode Support: Runs in headless mode (p.DIRECT) when GUI is not available.
Important Notes
GUI Limitations: The GUI mode may not function correctly in some environments, such as Replit, due to graphics driver issues. The simulation defaults to headless mode in such cases.
Gripper Functionality: The gripper finger URDFs used in this simulation do not contain joints. The open_gripper() and close_gripper() functions have been modified to simply return without performing any actions.
Video Corruption: Some video files generated by this simulation may be corrupted. This can be due to environment limitations or issues with the OpenCV video writer.
Camera Angle: The camera angle can be adjusted in the capture_frame() method to improve the view of the grasping action.
Joint Index Errors: If joint index errors occur, ensure that the correct joint indices are used for the gripper fingers. The joint indices can be printed to the console using the provided code.
Constraint Errors: The createConstraint function had errors with the jointLowerLimit keyword argument. This was fixed by using the changeConstraint method.
Console Log
The console log.txt file contains the console output of a simulation run in p.DIRECT mode. It provides information about the simulation's progress, including:

PyBullet version and configuration.
Object detection results.
Robot movement commands.
Any error messages.
Troubleshooting
GUI Issues: If you encounter GUI issues, try running the simulation in p.DIRECT mode.
Joint Index Errors: Verify the joint indices for the gripper fingers.
Video Corruption: Ensure proper video writer closure and check frame data.
Object Detection: If object detection fails, check the camera sensor setup and object placement.
Constraint Errors: If you encounter constraint errors, ensure the correct use of the changeConstraint method.
Author
Vyshnav K
